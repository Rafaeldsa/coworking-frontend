{"ast":null,"code":"var _jsxFileName = \"/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../../services/api';\nimport PageHeader from '../../components/PageHeader';\nimport Input from '../../components/Input';\nimport styles from './styles.css';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const history = useHistory();\n\n  async function handleCadastro(e) {\n    e.preventDefault();\n\n    try {\n      const response = api.post('create-user', {\n        email,\n        senha\n      });\n      alert('Email enviado para confirmação!');\n    } catch (err) {\n      alert('Erro no cadastro');\n    }\n  }\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    try {\n      const response = await api.post('session/login', {\n        email,\n        senha\n      });\n      localStorage.setItem('email', email);\n      localStorage.setItem('authorization', response.data.token);\n      localStorage.setItem('userId', response.data.userId);\n      history.push('/list-workstations');\n    } catch (err) {\n      alert('Falha no login, tente novamente.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-login\",\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    title: \"Bem-vindo ao gerenciamento de coworking!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    name: \"Email\",\n    label: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"Senha\",\n    label: \"Senha\",\n    value: senha,\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Realizar LogIn\")), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    onClick: handleCadastro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Realizar Cadastro\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    onClick: handleCadastro,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Reenviar email\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/Login/index.js"],"names":["React","useState","Link","useHistory","api","PageHeader","Input","styles","Login","email","setEmail","senha","setSenha","history","handleCadastro","e","preventDefault","response","post","alert","err","handleLogin","localStorage","setItem","data","token","userId","push","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,SAASC,KAAT,GAAiB;AACf,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMY,OAAO,GAAGV,UAAU,EAA1B;;AAEA,iBAAeW,cAAf,CAA8BC,CAA9B,EAAiC;AAC/BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACF,YAAMC,QAAQ,GAAGb,GAAG,CAACc,IAAJ,CAAS,aAAT,EAAwB;AACvCT,QAAAA,KADuC;AAEvCE,QAAAA;AAFuC,OAAxB,CAAjB;AAKAQ,MAAAA,KAAK,CAAC,iCAAD,CAAL;AACD,KAPD,CAOE,OAAOC,GAAP,EAAY;AACZD,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACD;AACF;;AAED,iBAAeE,WAAf,CAA2BN,CAA3B,EAA8B;AAC5BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMb,GAAG,CAACc,IAAJ,CAAS,eAAT,EAA0B;AAC/CT,QAAAA,KAD+C;AAE/CE,QAAAA;AAF+C,OAA1B,CAAvB;AAKAW,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8Bd,KAA9B;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCN,QAAQ,CAACO,IAAT,CAAcC,KAApD;AACAH,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BN,QAAQ,CAACO,IAAT,CAAcE,MAA7C;AAEAb,MAAAA,OAAO,CAACc,IAAR,CAAa,oBAAb;AACD,KAXD,CAWE,OAAOP,GAAP,EAAY;AACZD,MAAAA,KAAK,CAAC,kCAAD,CAAL;AACD;AACF;;AAED,sBACE;AAAK,IAAA,EAAE,EAAC,YAAR;AAAqB,IAAA,SAAS,EAAC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,0CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEE,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAEZ,KAJT;AAKE,IAAA,QAAQ,EAAGM,CAAD,IAAOL,QAAQ,CAACK,CAAC,CAACa,MAAF,CAASC,KAAV,CAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eASE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAElB,KAJT;AAKE,IAAA,QAAQ,EAAGI,CAAD,IAAOH,QAAQ,CAACG,CAAC,CAACa,MAAF,CAASC,KAAV,CAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF,eAmBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAyB,IAAA,IAAI,EAAC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBF,CADF,eAwBE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAyB,IAAA,OAAO,EAAEf,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAxBF,eA2BE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAyB,IAAA,OAAO,EAAEA,cAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3BF,CAFF,CADF;AAoCD;;AAED,eAAeN,KAAf","sourcesContent":["import React, { useState } from 'react';\n\nimport { Link, useHistory } from 'react-router-dom';\n\nimport api from '../../services/api';\nimport PageHeader from '../../components/PageHeader';\nimport Input from '../../components/Input';\n\nimport styles from './styles.css';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n\n  const history = useHistory();\n\n  async function handleCadastro(e) {\n    e.preventDefault();\n\n    try {\n      const response = api.post('create-user', {\n        email,\n        senha,\n      });\n\n      alert('Email enviado para confirmação!');\n    } catch (err) {\n      alert('Erro no cadastro');\n    }\n  }\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    try {\n      const response = await api.post('session/login', {\n        email,\n        senha,\n      });\n\n      localStorage.setItem('email', email);\n      localStorage.setItem('authorization', response.data.token);\n      localStorage.setItem('userId', response.data.userId);\n\n      history.push('/list-workstations');\n    } catch (err) {\n      alert('Falha no login, tente novamente.');\n    }\n  }\n\n  return (\n    <div id=\"page-login\" className=\"container\">\n      <PageHeader title=\"Bem-vindo ao gerenciamento de coworking!\" />\n      <main>\n        <form onSubmit={handleLogin}>\n          <fieldset>\n            <legend>Login</legend>\n            <Input\n              type=\"email\"\n              name=\"Email\"\n              label=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              type=\"password\"\n              name=\"Senha\"\n              label=\"Senha\"\n              value={senha}\n              onChange={(e) => setSenha(e.target.value)}\n            />\n          </fieldset>\n\n          <Link className=\"button\" type=\"submit\">\n            Realizar LogIn\n          </Link>\n        </form>\n        <Link className=\"button\" onClick={handleCadastro}>\n          Realizar Cadastro\n        </Link>\n        <Link className=\"button\" onClick={handleCadastro}>\n          Reenviar email\n        </Link>\n      </main>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}