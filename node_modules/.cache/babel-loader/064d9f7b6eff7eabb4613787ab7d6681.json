{"ast":null,"code":"var _jsxFileName = \"/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/DetailWorkStation/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../../services/api';\nimport moment from 'moment';\nimport Input from '../../components/Input';\nimport './styles.css';\nimport PageHeader from '../../components/PageHeader';\n\nfunction DetailWorkStation({\n  match\n}) {\n  const [workStation, setWorkStation] = useState({});\n  const [schedules, setSchedules] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const history = useHistory();\n  const body = {\n    name,\n    description\n  };\n  const authorization_user = localStorage.getItem('authorization');\n  const headers = {\n    authorization: authorization_user\n  };\n  const id = match.params.id;\n  const path = `/crud-workstation/${id}`;\n  useEffect(() => {\n    api.get(`workstation/${id}`, {\n      headers: {\n        authorization: authorization_user\n      }\n    }).then(response => {\n      setWorkStation(response.data.workstation);\n      setSchedules(response.data.schedules);\n      setRooms(response.data.rooms);\n    });\n  }, []);\n\n  function getTimeFromMins(mins) {\n    if (mins >= 24 * 60 || mins < 0) {\n      throw new RangeError('Valid input should be greater than or equal to 0 and less than 1440.');\n    }\n\n    var h = mins / 60 | 0,\n        m = mins % 60 | 0;\n    return moment.utc().hours(h).minutes(m).format('hh:mm A');\n  }\n\n  function handleSave(e) {\n    e.preventDefault();\n    api.put(`http://localhost:3001/workstation/${id}`, body, {\n      headers\n    }).then(() => {\n      alert('Alterações realizadas com sucesso!');\n      history.goBack();\n    }).catch(() => {\n      alert('Erro no Cadastro!');\n    });\n    console.log({\n      name,\n      description\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-wsDetail\",\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    title: \"WorkStation Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: \"/list-workstations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"WorkStations\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: \"/list-users\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Listar Usu\\xE1rios\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: \"/editing-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Editar informa\\xE7\\xF5es de usu\\xE1rio\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"CRUD-WorkStaion\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: \"/create-meeting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Criar Reuni\\xE3o\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"WorkStation: \", workStation.name), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Hor\\xE1rios\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, schedules.map(scheduleItem => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: scheduleItem.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"Dia: \", scheduleItem.week_day), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, \"De: \", getTimeFromMins(scheduleItem.from), \" - At\\xE9:\", ' ', scheduleItem.to));\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"Salas\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, rooms.map(room => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: room.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, room.name));\n  }))), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Editar informa\\xE7\\xF5es do WorkStation\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"name\",\n    label: \"Nome\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"name\",\n    label: \"Descri\\xE7\\xE3o\",\n    value: description,\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"footer\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Alterar Informa\\xE7\\xF5es\")))));\n}\n\nexport default DetailWorkStation;","map":{"version":3,"sources":["/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/DetailWorkStation/index.js"],"names":["React","useState","useEffect","Link","useHistory","api","moment","Input","PageHeader","DetailWorkStation","match","workStation","setWorkStation","schedules","setSchedules","rooms","setRooms","name","setName","description","setDescription","history","body","authorization_user","localStorage","getItem","headers","authorization","id","params","path","get","then","response","data","workstation","getTimeFromMins","mins","RangeError","h","m","utc","hours","minutes","format","handleSave","e","preventDefault","put","alert","goBack","catch","console","log","map","scheduleItem","week_day","from","to","room","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport api from '../../services/api';\nimport moment from 'moment';\nimport Input from '../../components/Input';\n\nimport './styles.css';\nimport PageHeader from '../../components/PageHeader';\n\nfunction DetailWorkStation({ match }) {\n  const [workStation, setWorkStation] = useState({});\n  const [schedules, setSchedules] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  const history = useHistory();\n\n  const body = {\n    name,\n    description,\n  };\n  const authorization_user = localStorage.getItem('authorization');\n\n  const headers = {\n    authorization: authorization_user,\n  };\n\n  const id = match.params.id;\n\n  const path = `/crud-workstation/${id}`;\n\n  useEffect(() => {\n    api\n      .get(`workstation/${id}`, {\n        headers: {\n          authorization: authorization_user,\n        },\n      })\n      .then((response) => {\n        setWorkStation(response.data.workstation);\n        setSchedules(response.data.schedules);\n        setRooms(response.data.rooms);\n      });\n  }, []);\n\n  function getTimeFromMins(mins) {\n    if (mins >= 24 * 60 || mins < 0) {\n      throw new RangeError(\n        'Valid input should be greater than or equal to 0 and less than 1440.'\n      );\n    }\n    var h = (mins / 60) | 0,\n      m = mins % 60 | 0;\n    return moment.utc().hours(h).minutes(m).format('hh:mm A');\n  }\n\n  function handleSave(e) {\n    e.preventDefault();\n\n    api\n      .put(`http://localhost:3001/workstation/${id}`, body, { headers })\n      .then(() => {\n        alert('Alterações realizadas com sucesso!');\n\n        history.goBack();\n      })\n      .catch(() => {\n        alert('Erro no Cadastro!');\n      });\n\n    console.log({\n      name,\n      description,\n    });\n  }\n\n  return (\n    <div id=\"page-wsDetail\" className=\"container\">\n      <PageHeader title=\"WorkStation Details\">\n        <Link className=\"button\" to=\"/list-workstations\">\n          WorkStations\n        </Link>\n        <Link className=\"button\" to=\"/list-users\">\n          Listar Usuários\n        </Link>\n        <Link className=\"button\" to=\"/editing-user\">\n          Editar informações de usuário\n        </Link>\n        <Link className=\"button\" to={path}>\n          CRUD-WorkStaion\n        </Link>\n        <Link className=\"button\" to=\"/create-meeting\">\n          Criar Reunião\n        </Link>\n      </PageHeader>\n      <div>\n        <h1>WorkStation: {workStation.name}</h1>\n\n        <h1>Horários</h1>\n        <ul>\n          {schedules.map((scheduleItem) => {\n            return (\n              <li key={scheduleItem.id}>\n                <h2>Dia: {scheduleItem.week_day}</h2>\n                <h2>\n                  De: {getTimeFromMins(scheduleItem.from)} - Até:{' '}\n                  {scheduleItem.to}\n                </h2>\n              </li>\n            );\n          })}\n        </ul>\n\n        <h1>Salas</h1>\n        <ul>\n          {rooms.map((room) => {\n            return (\n              <li key={room.name}>\n                <h2>{room.name}</h2>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n\n      <main>\n        <form onSubmit={handleSave}>\n          <fieldset>\n            <legend>Editar informações do WorkStation</legend>\n            <Input\n              name=\"name\"\n              label=\"Nome\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            <Input\n              name=\"name\"\n              label=\"Descrição\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n            />\n          </fieldset>\n\n          <footer>\n            <button type=\"submit\">Alterar Informações</button>\n          </footer>\n        </form>\n      </main>\n    </div>\n  );\n}\n\nexport default DetailWorkStation;\n"]},"metadata":{},"sourceType":"module"}