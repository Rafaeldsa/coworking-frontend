{"ast":null,"code":"var _jsxFileName = \"/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../../services/api';\nimport PageHeader from '../../components/PageHeader';\nimport Input from '../../components/Input';\nimport styles from './styles.css';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const history = useHistory();\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    try {\n      const response = await api.post('session/login', {\n        email,\n        senha\n      });\n      localStorage.setItem('email', email);\n      localStorage.setItem('authorization', response.data.token);\n      history.push('/workstations/list');\n    } catch (err) {\n      alert('Falha no login, tente novamente.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-login\",\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    title: \"Bem-vindo ao gerenciamento de coworking!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    name: \"Email\",\n    label: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"Senha\",\n    label: \"Senha\",\n    value: senha,\n    onChange: e => setSenha(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Realizar LogIn\")), /*#__PURE__*/React.createElement(\"button\", {\n    tye: \"submit\",\n    onClick: () => {\n      api.post('create-user', {\n        email,\n        senha\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Realizar Cadastro\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      api.post('session/login', {\n        email,\n        senha\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Reenviar email\")));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/rafaeldsa/Documentos/Projetos/coworking-frontend/web/src/pages/Login/index.js"],"names":["React","useState","Link","useHistory","api","PageHeader","Input","styles","Login","email","setEmail","senha","setSenha","history","handleLogin","e","preventDefault","response","post","localStorage","setItem","data","token","push","err","alert","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,SAASC,KAAT,GAAiB;AACf,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMY,OAAO,GAAGV,UAAU,EAA1B;;AAEA,iBAAeW,WAAf,CAA2BC,CAA3B,EAA8B;AAC5BA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMb,GAAG,CAACc,IAAJ,CAAS,eAAT,EAA0B;AAC/CT,QAAAA,KAD+C;AAE/CE,QAAAA;AAF+C,OAA1B,CAAvB;AAKAQ,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BX,KAA9B;AACAU,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCH,QAAQ,CAACI,IAAT,CAAcC,KAApD;AAEAT,MAAAA,OAAO,CAACU,IAAR,CAAa,oBAAb;AACD,KAVD,CAUE,OAAOC,GAAP,EAAY;AACZC,MAAAA,KAAK,CAAC,kCAAD,CAAL;AACD;AACF;;AAED,sBACE;AAAK,IAAA,EAAE,EAAC,YAAR;AAAqB,IAAA,SAAS,EAAC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,0CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEX,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAEL,KAJT;AAKE,IAAA,QAAQ,EAAGM,CAAD,IAAOL,QAAQ,CAACK,CAAC,CAACW,MAAF,CAASC,KAAV,CAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eASE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAEhB,KAJT;AAKE,IAAA,QAAQ,EAAGI,CAAD,IAAOH,QAAQ,CAACG,CAAC,CAACW,MAAF,CAASC,KAAV,CAL3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF,eAmBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAnBF,CADF,eAsBE;AACE,IAAA,GAAG,EAAC,QADN;AAEE,IAAA,OAAO,EAAE,MAAM;AACbvB,MAAAA,GAAG,CAACc,IAAJ,CAAS,aAAT,EAAwB;AACtBT,QAAAA,KADsB;AAEtBE,QAAAA;AAFsB,OAAxB;AAID,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAtBF,eAiCE;AACE,IAAA,OAAO,EAAE,MAAM;AACbP,MAAAA,GAAG,CAACc,IAAJ,CAAS,eAAT,EAA0B;AACxBT,QAAAA,KADwB;AAExBE,QAAAA;AAFwB,OAA1B;AAID,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjCF,CAFF,CADF;AAiDD;;AAED,eAAeH,KAAf","sourcesContent":["import React, { useState } from 'react';\n\nimport { Link, useHistory } from 'react-router-dom';\n\nimport api from '../../services/api';\nimport PageHeader from '../../components/PageHeader';\nimport Input from '../../components/Input';\n\nimport styles from './styles.css';\n\nfunction Login() {\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n\n  const history = useHistory();\n\n  async function handleLogin(e) {\n    e.preventDefault();\n\n    try {\n      const response = await api.post('session/login', {\n        email,\n        senha,\n      });\n\n      localStorage.setItem('email', email);\n      localStorage.setItem('authorization', response.data.token);\n\n      history.push('/workstations/list');\n    } catch (err) {\n      alert('Falha no login, tente novamente.');\n    }\n  }\n\n  return (\n    <div id=\"page-login\" className=\"container\">\n      <PageHeader title=\"Bem-vindo ao gerenciamento de coworking!\" />\n      <main>\n        <form onSubmit={handleLogin}>\n          <fieldset>\n            <legend>Login</legend>\n            <Input\n              type=\"email\"\n              name=\"Email\"\n              label=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <Input\n              type=\"password\"\n              name=\"Senha\"\n              label=\"Senha\"\n              value={senha}\n              onChange={(e) => setSenha(e.target.value)}\n            />\n          </fieldset>\n\n          <button type=\"submit\">Realizar LogIn</button>\n        </form>\n        <button\n          tye=\"submit\"\n          onClick={() => {\n            api.post('create-user', {\n              email,\n              senha,\n            });\n          }}\n        >\n          Realizar Cadastro\n        </button>\n        <button\n          onClick={() => {\n            api.post('session/login', {\n              email,\n              senha,\n            });\n          }}\n        >\n          Reenviar email\n        </button>\n      </main>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}